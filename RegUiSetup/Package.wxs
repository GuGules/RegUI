<?xml version="1.0" encoding="UTF-8"?>

<?define ProductName = "RegUI" ?>
<?define Manufacturer = "RegUI Community" ?>
<?define ProductVersion = "1.0.0" ?>
<?define UpgradeCode = "A1B2C3D4-E5F6-7890-1234-56789ABCDEF0" ?>

<Wix xmlns="http://wixtoolset.org/schemas/v4/wxs">
	<Package
	  Name="$(var.ProductName)"
	  Manufacturer="$(var.Manufacturer)"
	  Version="$(var.ProductVersion)"
	  UpgradeCode="$(var.UpgradeCode)"
	  Compressed="yes"
	  Language="1036">

		<MajorUpgrade DowngradeErrorMessage="Une version plus récente de [ProductName] est déjà installée." />

		<Directory Id="TARGETDIR" Name="SourceDir">
			<Directory Id="ProgramFiles64Folder">
				<Directory Id="INSTALLFOLDER" Name="$(var.ProductName)" />
			</Directory>
		</Directory>

		<Feature Id="ProductFeature" Title="RegUI" Level="1">
			<ComponentGroupRef Id="ProductComponents" />
		</Feature>
	</Package>

	<Fragment>
		<ComponentGroup Id="ProductComponents">
			<Component Id="MainExecutable" Guid="*">
				<File Id="RegUIExe"
					  Source="$(var.RegUI.TargetDir)RegUI.exe"
					  KeyPath="yes" />
				<RemoveFile Id="RemoveAll" Name="*.*" On="uninstall" />
			</Component>
		</ComponentGroup>
	</Fragment>
</Wix>